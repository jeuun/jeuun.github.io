---
title: "리팩토링"
layout: post
category: Note
tags: [리팩토링]
excerpt: "리팩토링"
author: Jeuun
---
리팩토링 (07/08)

# 리팩토링이란?
- 소프트웨어를 보다 쉽게 이해할 수 있도록 만드는 작업
- 이해하기 쉬운 코드가 수정하기도 쉽다. 
- 리소스를 최소화하기 위해서 외부 동작의 변화없이 소프트웨어의 구조를 바꾸는것을 중심으로 진행

# 리팩토링의 중요성
- 리팩토링이 적절하게 진행될 경우 소프트웨어가 이해하기 쉬워지고 수정도 용이해진다. 
- 이해하기 쉽고 수정도 쉬워지니 개발 속도가 빨라진다. 

# 언제 리팩토링을 해야하는지 
- 별도의 시간을 내는 것이 아니라 틈틈히 계속 진행되어야한다. 
1. 기능을 추가할때 
2. 버그를 수정할때 
3. 팀원들과 함께 code review를 할 때

# Bad Smell
- 중복된 코드가 있을때 (Duplicated Code)
  * 서로 다른 두 메소드 안에서 같은 코드가 있을 경우, 중복되는 코드를 하나의 메소드로 빼낸다. 

- 메소드가 지나치게 길때 (Long Method)
  * 메소드는 가능한 길이가 짧을수록 널리 활용되고 또 마지막까지 활용될 가능성이 높아진다. 
  * 메소드의 이름은 그 기능을 명확히 정의하는 것으로 지어서 내용을 보지 않더라도 기능을 파악할 수 있도록 짓는다. 
  * 주석을 달아야겠다는 생각이 들 경우 단일한 기능을 가진 메소드로 분리해 내는 것을 먼저 고민해야한다. 

- 클래스가 지나치게 클 때 (Large Class)
  * 하나의 클래스가 지나치게 많은 인스턴스 변수를 갖는다면 중복된 코드가 존재할 확률이 높다. 
  * 리팩토링을 통해 수정 필요

- 클래스가 충분히 역할을 하지 않을 때 (Lazy Class)
- 클래스들이 지나치게 친밀할 때 (부적절한 친밀 Inappropriate Intimacy) 
  * 클래스가 서로 지나치게 친밀해서 결합도가 높다면 서로의 사적인 부분을 파고 드느라 너무 많은 시간을 소모하게 된다.
- 주석이 많이 붙어 있는 코드를 보았을 때 
  * 주석이 많이 있다는 것은 무엇인가 개발자가 서투른 부분이 있다는 신호일 경우가 많다. 
  * 이 경우 자세히 보고 리팩토링이 필요한지 확인할 필요가 있다. 
  * 주석은 무엇을 해야 할 지 모를때나 어떤 것을 왜 그렇게 했는지 표시할 때 사용하는 것이 좋다. 

# 리팩토링에 염두해야하는 세가지
- 가독성이 높은 코드를 짜라
  * 가독성이 높은 코드라면 대부분 하나의 모듈이 분명한 하나의 역할을 하고 있을 것이다. 
  * 심플하고 명확한 코드가 되어 이해가 쉬어야 한다. 

- 결합도(Coupling)를 없애라 
  * 결합도(Coupling)이라는 것은 하나의 모듈의 어떤 부분을 바꿀 때 다른 모듈도 함께 바꾸어야하는 상황을 의미한다. 
  * 하나의 모듈의 일은 가능한 하나의 모듈에서 끝날 수 있도록 코드를 짤 필요가 있다. 

- 하나의 함수/메소드는 하나의 역할만 하게 하라
  * 함수가 너무 복잡하고 여러 개의 기능을 가지게 된다면 활용성이 떨어지고 이해하기 어려운 코드가 된다. 
  * 이런 경우 함수를 여러 개로 쪼개고 하나의 함수는 하나의 인풋과 아웃풋을 가지도록 하고 그 함수들을 호출하여 조합하는 역할을 하는 함수로 다시 정의하는 것이 좋다. 




Reference<br>
https://m.blog.naver.com/magnking/220973095825

